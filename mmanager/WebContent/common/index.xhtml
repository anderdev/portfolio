<ui:composition xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        template="../template/templateAPP.xhtml" >
        
	<ui:define name="contentAPP">
		<p:growl showDetail="true" showSummary="false" autoUpdate="true" sticky="true" />
		
		<h:form prependId="false" id="newPassword" rendered="#{userMBean.loggedUser.defaultPassword}">
			<h:outputText value="#{messages['lb_password_registration']}" styleClass="boxTitle"/>	
		
			<div class="contentCenterSmall">	
				<div align="center" class="styleMessage">
					<h:outputText value="#{messages['lb_new_parant_user_first_login']}"/>
				</div>
				<br/>
				<h:panelGrid columns="2" columnClasses="column120RightWithPaddingRigth,column350" styleClass="boldFont" border="0">	    
			        <h:outputText value="#{messages['lb_username']}" />
					<p:inputText id="username" label="#{messages['lb_username_']}" required="true"  value="#{userMBean.loggedUser.username}" style="width:80%" >
					</p:inputText>
					
					<h:outputText value="#{messages['lb_password']}" />
					<p:password id="pass" label="#{messages['lb_password_']}" required="true"  value="#{userMBean.loggedUser.password}"  size="27"  style="width:80%"/>
					
					<h:outputText value="#{messages['lb_confirm']}" />
					<p:password id="confirmPass" label="#{messages['lb_confirm_']}" required="true"  value="#{userMBean.confirmPassword}"  size="27"  style="width:80%"/>
					
					<h:outputText value="#{messages['lb_secret_phrase']}" />
					<p:inputText id="secretPhrase" label="#{messages['lb_secret_phrase_']}" required="true"  value="#{userMBean.loggedUser.secretPhrase}" style="width:80%" />
				</h:panelGrid>
				<div align="center">
					<p:commandButton value="#{messages['lb_post']}" action="#{userMBean.saveNewPassword}" ajax="true" styleClass="button" update=":formMenu"/>
				</div>
			</div>
		</h:form>
		
		<h:panelGroup rendered="#{!userMBean.loggedUser.defaultPassword and userMBean.configLoggedUser eq null}">
			<h:outputText value="You have not set default values for Credits and Debits." />
			<p:commandButton value="#{messages['lb_default_values_']}" action="#{configMBean.load}" ajax="true" styleClass="button"/>
		</h:panelGroup>
	</ui:define>
</ui:composition>